version: 1
applications:
  - appRoot: .
    apiVersion: 1
    deploymentMechanism: amplifyhosting
    build:
      phases:
        preBuild:
          commands:
            - npm ci --cache .npm --prefer-offline
        build:
          commands:
            - npm run build
    artifacts:
      files:
        - '**/*'
      discard-paths: no
      baseDirectory: build
    cache:
      paths:
        - node_modules/**/*
        - .npm/**/*
